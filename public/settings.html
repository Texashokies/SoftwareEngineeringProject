<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firechat Account Settings</title>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    
</head>
<body>
    <!--Nav bar-->
    <nav>
        <div class="nav-wrapper amber darken-2" id="nav-wrapper">
            <a href="index.html" class="brand-logo" id="logo">Firechat</a>
            <ul id ="nav-mobile" class="right hide-on-med-down">
                <li class = "logged-in">
                    <a href="#" class="dropdown-trigger amber lighten-1 btn" data-target="accountDropdown" id="account-dropdown"><i class="material-icons">account_circle</i></a>
                </li>
            </ul>
        </div>
    </nav>

    <!--Account dropdown-->
    <ul id="accountDropdown" class="dropdown-content">
        <li><a href="settings.html"> <i class="small material-icons">settings</i> Settings</a></li>
        <li><a href="#!" class = "btn-flat"><i class="small material-icons">input</i> Signout</a></li>
    </ul>


    <!--Logged out page-->
    <div class="container logged-out">
        <!--Sign in card-->
        <div class="row">
            <div class = "col s12 m6">
                <div class="card" id="sign-in-card">
                    <div class="card-content">
                        <span class="card-title">Something went wrong</span>
                        <p>You're seeing this because you are logged out. Please sign back in!</p>
                    </div>
                    <div class="card-action">
                        <a href="#" class="wave-effect waves-light btn yellow darken-2 modal-trigger" data-target="modal-login" id="sign-in-button">Sign in</a>
                        <p>Don't have an account?</p>
                        <a href="#" class="wave-effect waves-light btn yellow darken-2 modal-trigger" data-target="modal-signup" id="sign-up-button">Sign Up</a>
                    </div>
                </div>
            </div>
        </div>
         <!-- LOGIN MODAL -->
         <div id="modal-login" class="modal">
            <div class="modal-content">
            <h4>Login</h4><br />
            <form id="login-form">
                <div class="input-field">
                    <input type="email" id="login-email" required />
                    <label for="login-email">Email address</label>
                    <span class="helper-text red-text" data-error="wrong" data-success="right" id="login-email-helper-text"></span>
                </div>
                <div class="input-field">
                    <input type="password" id="login-password" required />
                    <label for="login-password">Your password</label>
                    <span class="helper-text red-text" data-error="wrong" data-success="right" id="login-password-helper-text"></span>
                </div>
                <button class="btn yellow darken-2" id="log-in-button">Login</button>
            </form>
            </div>
        </div>

        <!-- SIGN UP MODAL -->
        <div id="modal-signup" class="modal">
            <div class="modal-content">
            <h4>Sign up</h4><br />
            <form id="signup-form">
                <div class="input-field">
                    <input type="text" id="username" required/>
                    <label for="username">Username</label>
                </div>
                <div class="input-field">
                    <input type="email" id="signup-email" required />
                    <label for="signup-email">Email address</label>
                </div>
                <div class="input-field">
                    <input type="password" id="signup-password" required />
                    <label for="signup-password">Choose password</label>
                </div>
                <button class="btn yellow darken-2" id="sign-up-button-modal">Sign up</button>
            </form>
            </div>
        </div>
    </div>

    <!-- Logged In Page-->
    <div class="container logged-i">
        <!--Profile card-->
        <div class="row">
            <div class = "col s12 m6">
                <div class="card" id="profile-card">
                    <div class="card-content">
                        <span class="card-title">User Profile</span>
                        <form id="profile-settings-form">
                            <!--Profile Pic?-->
                            <p id="display-name"></p>
                            <div class="input-field">
                                <i class="material-icons prefix">account_circle</i>
                                <input type="text" id="name-field" />
                                <label for="name-field">Change Display Name</label>
                            </div>
                            <div class="input-field">
                                <p id="email"></p>
                                <i class="material-icons prefix">email</i>
                                <input type="email" id="change-email" />
                                <label for="change-email">Change Email Address</label>
                            </div>
                            <!--Change password by a password reset email-->
                            <button class="btn waves-effect waves-light yellow darken-2" id="change-password">Change Password <i class="small material-icons">lock</i></button>
                        </form>
                    </div>
                    <div class="card-action">
                        <!--Might need to be changed to a button?-->
                        <a href="#" class="wave-effect waves-light btn yellow darken-2" data-target="modal-login" id="user-profile-save-button">Save Settings <i class="small material-icons">save</i></a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class = "col s12 m6">
                <div class="card" id="display-card">
                    <div class="card-content">
                        <span class="card-title">Display Settings</span>
                        <div class="input-field col s12">
                            <select id="select-theme">
                              <option value="sunny day">Sunny Day (Light)</option>
                              <option value="campfire">Camp Fire (Dark)</option>
                              <option value="coldfire">Cold Fire (Dark)</option>
                            </select>
                            <label>Choose your theme</label>
                        </div>
                    </div>
                    <div class="card-action">
                        <button class="wave-effect waves-light btn yellow darken-2" onclick="setThemePreference()" id="save-button">Save Settings <i class="small material-icons">save</i></a>
                    </div>
                </div>
            </div>
        </div>

        <!--Delete Account Card-->
        <div class="row">
            <div class = "col s12 m6">
                <div class="card" id="delete-card">
                    <div class="card-content">
                        <span class="card-title">Delete Account</span>
                        <form id="delete-form">
                        </form>
                    </div>
                    <div class="card-action">
                        <!--Might need to be changed to a button?-->
                        <a href="#" class="wave-effect waves-light btn yellow darken-2 modal-trigger" data-target="modal-delete" id="delete-button">Delete Account<i class="small material-icons">delete_forever</i></a>
                    </div>
                </div>
            </div>
        </div>

        <!--Delete Account Modal-->
        <div id = "modal-delete"class="modal">
            <div class="modal-content">
                <h4>Delete Account</h4>
                <form id = "delete-modal-form">
                    <p>Please think carefully about this decision. Deleting your account is a permanent action that cannot be undone!</p>
                    <button class="btn  yellow darken-2" id="nevermind-button">Nevermind.</button>
                    <button class="btn red accent-4">DELETE ACCOUNT! <i class="small material-icons">delete_forever</i></button>
                </form>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase-database.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="scripts/settings.js"></script>
    <script src="scripts/auth.js"></script>
</body>
</html>